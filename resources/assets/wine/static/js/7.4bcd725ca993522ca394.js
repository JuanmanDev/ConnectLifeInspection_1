webpackJsonp([7],{"/TY/":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("woOf"),o=e.n(s),a=e("mvHQ"),h=e.n(a),n=e("bOdI"),l=e.n(n),c=(e("Fd2+"),e("A8Fc")),r=l()({name:"lights",mixins:[c.a],data:function(){return{show:!0,lan:"en",hasLanguage:!1,from:"html",deviceId:"",nativeKey:"lights",items:["light_modes","switchs"],curId:0,lightsInfo:"",lightsSwitchOnoff:!1,conShow:!0,conShow_rgb:!1,brightVal:0,lightVal:0,showLighta:0,ambientalSwitch:!0,amShow:!1,ambientVal:0,ambientColor:this.$store.state.lights.ambientColor,ambientRcolour:"",ambientGcolour:"",ambientBcolour:"",showLightb:0,step:1,minVal:0,maxVal:100,minLight:0,maxLight:23,brightActive:!1,lTActive:!1,ambientActive:!1,showLoading:!1,SwitchLightsIntensity:0,SwitchLightsColour:0,SwitchRGBLightIntensity:0,SwitchGColour:"",SwitchRColour:"",SwitchBColour:"",SwitchModeOntime:0,RGBLightOnoff:!1,SaveSwitchMode:!0,showPop:!1,onforPop:!1,RemoteControlModeFlag:1,oneZoneFlag:0,sabbathmode:0,sabbathModeStatus:0,onlineStatus:"1",init_data:{},initDataStateData:{},lightSwitchDataCanUpdate:[],SwitchModeOntimeText:"",dragFlag:!1}},components:{loading:function(){return e.e(0).then(e.bind(null,"44dg"))}},created:function(){this.oneZoneFlag=this.$route.query.oneZoneFlag||0,console.log("this.oneZoneFlag的值",this.oneZoneFlag),this.nativeKey=this.$route.name||"lights",this.$i18n.locale=this.$commonMethods.getNativeLanguage(this.$route.query.language,this.hasLanguage,this.lan),this.from=this.$route.query.from||"html",this.deviceId=this.$route.query.deviceId||"",this.onlineStatus=this.$route.query.onlineStatus?this.$route.query.onlineStatus:"1",window.getLightsCallback=this.getLightsCallback,window.sendCmdCallback=this.sendCmdCallback,window.onBackPressedCallback=this.onBackPressedCallback,window.getDevicePropertiesInfoCallback=this.getDevicePropertiesInfoCallback,this.getDevicePropertiesInfo(),this.showLoading=!0},mounted:function(){var t=document.createElement("li1");t.style.display="inline-block",t.style.fontSize="15px",t.textContent=this.$t("lang.light_modes"),document.body.appendChild(t),console.log(t.clientWidth+" "+document.documentElement.clientWidth);var i=t.clientWidth;document.body.removeChild(t),i>=.5*document.documentElement.clientWidth&&(document.getElementById("li1").style.lineHeight="30px")},activated:function(){this.nativeKey=this.$route.name||"lights",this.$i18n.locale=this.$commonMethods.getNativeLanguage(this.$route.query.language,this.hasLanguage,this.lan),this.from=this.$route.query.from||"html",console.log("newLights this.from",this.from),this.deviceId=this.$route.query.deviceId||"",window.getLightsCallback=this.getLightsCallback,window.sendCmdCallback=this.sendCmdCallback,window.onBackPressedCallback=this.onBackPressedCallback,window.getDevicePropertiesInfoCallback=this.getDevicePropertiesInfoCallback},watch:{$route:function(t,i){}},computed:{presenseSensorDisplayList:function(){return[this.$t("lang.after_one_minute"),this.$t("lang.after_five_minute"),this.$t("lang.after_fifteen_minute"),this.$t("lang.after_thirty_minute"),this.$t("lang.after_sixty_minute"),this.$t("lang.after_ninety_minute"),this.$t("lang.after_always")]},commonHeaderBg:function(){return{background:"#fff"}},sliderBg:function(){var t;return t={background:"rgb(123,123,123)"},l()(t,"background","-webkit-linear-gradient(left, rgb(123,123,123) 0% , rgb(187,187,187) 42%, rgb(228,228,228) 71%, rgb(255,255,255) 100%)"),l()(t,"background","-o-linear-gradient(to right, rgb(123,123,123) 0% , rgb(187,187,187) 42%, rgb(228,228,228) 71%, rgb(255,255,255) 100%)"),l()(t,"background","-moz-linear-gradient(to right, rgb(123,123,123) 0% , rgb(187,187,187) 42%, rgb(228,228,228) 71%, rgb(255,255,255) 100%)"),l()(t,"background","linear-gradient(to right, rgb(123,123,123) 0% , rgb(187,187,187) 42%, rgb(228,228,228) 71%, rgb(255,255,255) 100%)"),t},sliderBgSelect:function(){var t;return t={background:"rgb(0, 0, 0)"},l()(t,"background","-webkit-linear-gradient(left, rgb(0, 0, 0), rgb(233, 233, 233))"),l()(t,"background","-o-linear-gradient(to right, rgb(0, 0, 0), rgb(233, 233, 233))"),l()(t,"background","-moz-linear-gradient(to right, rgb(0, 0, 0), rgb(233, 233, 233))"),l()(t,"background","linear-gradient(to right, rgb(0, 0, 0), rgb(233, 233, 233))"),t},sliderBgs:function(){var t;return t={background:"rgb(229,229,229)"},l()(t,"background","-webkit-linear-gradient(left, rgb(253,195,0) 0% , rgb(229,229,229) 52%, rgb(0,182,237) 100%)"),l()(t,"background","-o-linear-gradient(right, rgb(253,195,0) 0% , rgb(229,229,229) 52%, rgb(0,182,237) 100%)"),l()(t,"background","-moz-linear-gradient(right, rgb(253,195,0) 0% , rgb(229,229,229) 52%, rgb(0,182,237) 100%)"),l()(t,"background","linear-gradient(to right, rgb(253,195,0) 0% , rgb(229,229,229) 52%, rgb(0,182,237) 100%)"),t},barHeight:function(){return"0.64rem"},_SwitchColour:function(){return this.$store.state.lights.SwitchColour},switchLight_Info:function(){return this.$store.state.switchLightInfo}},methods:{getDevicePropertiesInfo:function(){var t={deviceId:this.deviceId};if(this.$native.getDevicePropertiesInfo(this.from,this.nativeKey,h()(t)),"html"==this.from){this.getDevicePropertiesInfoCallback({resultCode:0,data:{deviceNickName:"wineCooller1wineCooller2",deviceProps:{RemoteControlMode:"1",SabbathMode:"1",SabbathModeStatus:"2"}},errorInfo:""})}},getDevicePropertiesInfoCallback:function(t){if(console.log("new lights: 获取设备属性列表回调的callBack",h()(t)),this.proList=t,"0"==this.proList.resultCode||0==this.proList.resultCode)if("data"in this.proList&&"deviceProps"in this.proList.data){var i=this.proList.data,e=i.deviceProps;i.deviceNickName;this.RemoteControlModeFlag=Number(e.RemoteControlMode),this.sabbathmode=Number(e.SabbathMode),this.sabbathModeStatus=Number(e.SabbathModeStatus),this.getLightsInfo()}else"data"in this.proList&&0==this.proList.data.length&&this.getLightsInfo();else this.$toast(this.$t("lang.failure")),this.showLoading=!1},toToast:function(){"2"==this.onlineStatus?this.$toast(this.$t("lang.appliance_offline")):0==this.RemoteControlModeFlag?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"}):1==this.sabbathmode&&2==this.sabbathModeStatus?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"}):console.log("不提示")},goFunctionalMode:function(){this.$router.push({path:"/newLights/functionalMode",query:{from:this.from,language:this.$i18n.locale,deviceId:this.deviceId,fromPageName:"functionalMode",oneZoneFlag:this.oneZoneFlag,onlineStatus:this.onlineStatus}})},goAmbientMode:function(){this.$router.push({path:"/newLights/ambientMode",query:{from:this.from,language:this.$i18n.locale,deviceId:this.deviceId,fromPageName:"ambientMode",oneZoneFlag:this.oneZoneFlag,onlineStatus:this.onlineStatus}})},goModesUsage:function(){this.$router.push({path:"/newLights/modesUsage",query:{from:this.from,language:this.$i18n.locale,deviceId:this.deviceId,fromPageName:"modesUsage",oneZoneFlag:this.oneZoneFlag,onlineStatus:this.onlineStatus}})},onConfirm:function(t,i){console.log("点击持续时间传递的入参~~~value",t),this.SwitchModeOntimeText=t,0==this.oneZoneFlag?this.SwitchModeOntime=i:this.SwitchModeOntime=0==i?i+6:i-1,this.showPop=!1,this.onforPop=!1;var e={SwitchModeOntime:this.SwitchModeOntime};if(console.log("点击持续时间传递的入参",e),this.$native.sendCmd(this.from,this.nativeKey,this.deviceId,h()(e)),"html"==this.from){this.sendCmdCallback({resultCode:"0"})}},onCancel:function(){this.showPop=!1,this.onforPop=!1},togglePop:function(){"2"==this.onlineStatus?this.$toast(this.$t("lang.appliance_offline")):0==this.RemoteControlModeFlag?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"}):1==this.sabbathmode&&2==this.sabbathModeStatus?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"}):(this.showPop=!0,this.onforPop=!0)},handleColor_rgb:function(t){},goBack:function(){this.$native.goBack(this.from),"html"==this.from&&this.$router.push({path:"/"})},tabChange:function(t){this.curId=t,this.getLightsInfo()},lightsSwitchHandle1:function(t){t||(this.SwitchLightsIntensity=0)},RGBlightsSwitchHandle:function(t){t||(this.SwitchRGBLightIntensity=0)},handleColor1:function(t){this.lightsSwitchOnoff=t>0},handleColor2:function(t){this.SwitchLightsColour=t},handleAmbient:function(t){this.ambientVal=t},switchMode:function(t){console.log(t,8888),this.SaveSwitchMode=!!t;var i={SaveSwitchMode:this.SaveSwitchMode?1:0};if(this.$fireBase.gaWebReport(this.from,"click","light_switch",i),console.log("switch的入参",i),this.$native.sendCmd(this.from,this.nativeKey,this.deviceId,h()(i)),"html"==this.from){this.sendCmdCallback({resultCode:"0"})}},handleRGBLightBrightness:function(t){},toSaveSwitchLightsIntensity:function(){if(0==this.RemoteControlModeFlag||1==this.sabbathmode&&2==this.sabbathModeStatus||"2"==this.onlineStatus)"2"==this.onlineStatus?this.$toast(this.$t("lang.appliance_offline")):0==this.RemoteControlModeFlag?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"}):1==this.sabbathmode&&2==this.sabbathModeStatus&&this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"}),this.SwitchLightsIntensity=Number(this.init_data.SwitchLightsIntensity),this.getLightsInfo();else{console.log("this.SwitchLightsIntensity",this.SwitchLightsIntensity);var t={SwitchLightsIntensity:this.SwitchLightsIntensity};if(this.dragFlag||this.$fireBase.gaWebReport(this.from,"click","light_switch_shelf_light_brightness",t),this.$native.sendCmd(this.from,this.nativeKey,this.deviceId,h()(t)),"html"==this.from){this.sendCmdCallback({resultCode:0})}}},toSaveSwitchLightsIntensityDrag:function(){this.$fireBase.gaWebReport(this.from,"move","light_switch_shelf_light_brightness",{SwitchLightsIntensity:this.SwitchLightsIntensity}),this.dragFlag=!1},toSaveSwitchLightsColour:function(){if(0==this.RemoteControlModeFlag||1==this.sabbathmode&&2==this.sabbathModeStatus||"2"==this.onlineStatus)"2"==this.onlineStatus?this.$toast(this.$t("lang.appliance_offline")):0==this.RemoteControlModeFlag?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"}):1==this.sabbathmode&&2==this.sabbathModeStatus&&this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"}),this.SwitchLightsColour=Number(this.init_data.SwitchLightsColour),this.getLightsInfo();else{console.log("this.SwitchLightsColour",this.SwitchLightsColour);var t={SwitchLightsColour:0==this.oneZoneFlag?23-Number(this.SwitchLightsColour):Number(this.SwitchLightsColour)};if(this.dragFlag||this.$fireBase.gaWebReport(this.from,"click","light_switch_shelf_light_lights_colour",t),console.log("SwitchLightsColour~~调节氛围灯的入参",t),this.$native.sendCmd(this.from,this.nativeKey,this.deviceId,h()(t)),"html"==this.from){this.sendCmdCallback({resultCode:0})}}},toSaveSwitchLightsColourDrag:function(){this.$fireBase.gaWebReport(this.from,"move","light_switch_shelf_light_lights_colour",{SwitchLightsColour:0==this.oneZoneFlag?23-Number(this.SwitchLightsColour):Number(this.SwitchLightsColour)}),this.dragFlag=!1},toSaveSwitchRGBLightIntensity:function(){if(0==this.RemoteControlModeFlag||1==this.sabbathmode&&2==this.sabbathModeStatus||"2"==this.onlineStatus)"2"==this.onlineStatus?this.$toast(this.$t("lang.appliance_offline")):0==this.RemoteControlModeFlag?this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"}):1==this.sabbathmode&&2==this.sabbathModeStatus&&this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"}),this.SwitchRGBLightIntensity=Number(this.init_data.SwitchRGBLightIntensity),this.getLightsInfo();else{var t={SwitchRGBLightIntensity:this.SwitchRGBLightIntensity};if(this.dragFlag||this.$fireBase.gaWebReport(this.from,"click","light_switch_rgb_light_brightness",t),console.log("grblight的入参SwitchRGBLightIntensity",t),this.$native.sendCmd(this.from,this.nativeKey,this.deviceId,h()(t)),"html"==this.from){this.sendCmdCallback({resultCode:0})}}},toSaveSwitchRGBLightIntensityDrag:function(){this.$fireBase.gaWebReport(this.from,"move","light_switch_rgb_light_brightness",{SwitchRGBLightIntensity:this.SwitchRGBLightIntensity}),this.dragFlag=!1},selectColor:function(){if("2"==this.onlineStatus)this.$toast(this.$t("lang.appliance_offline"));else if(0==this.RemoteControlModeFlag)this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_on_the_remote")+"</span></div>",type:"html"});else if(1==this.sabbathmode&&2==this.sabbathModeStatus)this.$toast({message:'<div style="word-break:keep-all;word-wrap:break-word;overflow:hidden;"><span>'+this.$t("lang.turn_off_the_sabbath")+"</span></div>",type:"html"});else{var t={language:this.$i18n.locale,from:this.from,deviceId:this.deviceId,fromPageName:"newLights"};this.$commonMethods.routerGo(this.$router,"/newLights/colorSelect",t)}},getLightsInfo:function(){var t={deviceId:this.deviceId};if(this.$native.getLightsInfo(this.from,this.nativeKey,h()(t)),"html"==this.from){var i;this.showLoading=!1;var e={errorDesc:"获灯光信息成功",resultCode:"0",data:(i={Zone1LightOnoff:"1",Zone2LightOnoff:"",Zone3LightOnoff:"",FunctionalLightsIntensity:"40",FunctionalLightsColour:"20",AmbientOntime:"0",AmbientRGBlightIntensity:"70",AmbientRcolour:"0",AmbientGcolour:"0",AmbientBcolour:"205",FunctionalOntime:"2"},l()(i,"AmbientOntime","0"),l()(i,"FunctionalOntime","0"),l()(i,"SwitchLightsIntensity","60"),l()(i,"SwitchLightsColour","20"),l()(i,"SwitchRGBLightIntensity","50"),l()(i,"SwitchRColour","125"),l()(i,"SwitchGColour","125"),l()(i,"SwitchBColour","125"),l()(i,"SwitchModeOntime","5"),l()(i,"SaveSwitchMode","1"),l()(i,"RemoteControlMode","1"),i)};this.getLightsCallback(e)}},lightFindArray:function(t,i){return-1!=t.indexOf(i)},lightPropertyCongruentOrNot:function(t){var i=[];for(var e in t)i.push(t[e]);return i.length>0&&i.every(function(t){return t>0})},calculationWhichApplianceOperation:function(t){console.log("getLightsCallback calculationWhichApplianceOperation 属性是否有变化start*************");var i=0==this.oneZoneFlag?["SaveSwitchMode","SwitchLightsIntensity","SwitchLightsColour","SwitchRGBLightIntensity","SwitchRColour","SwitchGColour","SwitchBColour","SwitchModeOntime"]:["SaveSwitchMode","SwitchLightsIntensity","SwitchLightsColour","SwitchModeOntime"],e={},s=!0;for(var a in t)-1!=i.indexOf(a)&&(void 0===this.initDataStateData[a]&&(this.initDataStateData[a]=[]),this.initDataStateData[a].length<=3&&(void 0==this.initDataStateData[a][0]&&(console.log("getLightsCallback initDataStateData init_data oneZoneFlag = "+this.oneZoneFlag+" 初始化各个均为 [] 的情况"),this.initDataStateData[a].push(t[a])),this.initDataStateData[a].length>=2&&void 0!=this.initDataStateData[a][0]&&void 0!=this.initDataStateData[a][1]&&(this.initDataStateData[a][1]==t[a]?(console.log("getLightsCallback initDataStateData oneZoneFlag = "+this.oneZoneFlag+"  state[1] == new",a),this.initDataStateData[a][0]=t[a],e[a]=1):this.initDataStateData[a][1]!=t[a]&&(this.initDataStateData[a][0]==t[a]&&(console.log("getLightsCallback initDataStateData oneZoneFlag = "+this.oneZoneFlag+"  state[1] != new; state[0] == new",a),e[a]=0),this.initDataStateData[a][0]!=t[a]&&(console.log("getLightsCallback initDataStateData oneZoneFlag = "+this.oneZoneFlag+"  state[1] != new; state[0] != new 其他设备操作了数据",a),this.$store.commit("change_switchLightInfo",{}),this.initDataStateData=o()({}),e=o()({}),s=!1)))));this.lightSwitchDataCanUpdate=!!s&&this.lightPropertyCongruentOrNot(e),console.log("getLightsCallback calculationWhichApplianceOperation 值是否全相等",this.lightSwitchDataCanUpdate,e),console.log("getLightsCallback calculationWhichApplianceOperation initDataStateData",h()(this.initDataStateData)),console.log("getLightsCallback calculationWhichApplianceOperation 属性是否有变化end*************")},getLightsCallback:function(t){if(console.log("getLightsCallback -"),console.log("getLightsCallback --"),console.log("getLightsCallback ---"),console.log("getLightsCallback -------------------------start-------------------------"),console.log("getLightsCallback返回的数据 ",h()(t)),this.showLoading=!1,"0"==t.resultCode||0==t.resultCode){if("data"in t){var i=t.data,e={SaveSwitchMode:1==Number(i.SaveSwitchMode),SwitchLightsIntensity:Number(i.SwitchLightsIntensity),SwitchLightsColour:Number(i.SwitchLightsColour),SwitchRGBLightIntensity:Number(i.SwitchRGBLightIntensity),SwitchRColour:Number(i.SwitchRColour),SwitchGColour:Number(i.SwitchGColour),SwitchBColour:Number(i.SwitchBColour),SwitchModeOntime:Number(i.SwitchModeOntime)};if(this.init_data=e,this.calculationWhichApplianceOperation(e),console.log("getLightsCallback this.init_data",this.init_data),console.log("getLightsCallback this.switchLight_Info",h()(this.switchLight_Info)),console.log("getLightsCallback this.switchLight_Info state","{}"===h()(this.switchLight_Info)),console.log("getLightsCallback this.lightSwitchDataCanUpdate",!this.lightSwitchDataCanUpdate),"{}"!==h()(this.switchLight_Info)||this.lightSwitchDataCanUpdate){if("{}"!=h()(this.switchLight_Info)&&this.lightSwitchDataCanUpdate)if(console.log("getLightsCallback this.init_data",h()(this.init_data)),console.log("getLightsCallback this.switchLight_Info",h()(this.switchLight_Info)),0==this.oneZoneFlag)if(this.lightSwitchDataCanUpdate){this.SaveSwitchMode=1==Number(i.SaveSwitchMode),this.SwitchModeOntime=Number(i.SwitchModeOntime)||0,0==this.oneZoneFlag?this.SwitchModeOntimeText=this.presenseSensorDisplayList[this.SwitchModeOntime]:(console.log("getLightsCallback~~~返回的数据~~~SwitchModeOntime",this.SwitchModeOntime),6==this.SwitchModeOntime?this.SwitchModeOntimeText=this.presenseSensorDisplayList[0]:this.SwitchModeOntimeText=this.presenseSensorDisplayList[this.SwitchModeOntime+1]),this.SwitchLightsIntensity=Number(i.SwitchLightsIntensity)||0,this.SwitchLightsIntensity>0&&(this.lightsSwitchOnoff=!0),0==this.oneZoneFlag?this.SwitchLightsColour=23-Number(i.SwitchLightsColour)||0:this.SwitchLightsColour=Number(i.SwitchLightsColour)||0,this.SwitchRGBLightIntensity=Number(i.SwitchRGBLightIntensity)||0,this.SwitchRGBLightIntensity>0&&(this.RGBLightOnoff=!0),this.SwitchRColour=Number(i.SwitchRColour)||0,this.SwitchGColour=Number(i.SwitchGColour)||0,this.SwitchBColour=Number(i.SwitchBColour)||0;var s="rgb("+this.SwitchRColour+","+this.SwitchGColour+","+this.SwitchBColour+")";console.log(s),this.$store.commit("lights/SWITCH_R_COLOUR",this.SwitchRColour),this.$store.commit("lights/SWITCH_G_COLOUR",this.SwitchGColour),this.$store.commit("lights/SWITCH_B_COLOUR",this.SwitchBColour),this.$store.commit("lights/SWITCH_COLOUR",s),this.RemoteControlModeFlag=Number(i.RemoteControlMode),this.$store.commit("change_switchLightInfo",{}),console.log("getLightsCallback light switch 之前修改过，并且返回数据与本地数据相等，清除本地数据，以云端数据为基准")}else console.log("getLightsCallback light switch 之前修改过，但是云端数据与本地数据不一致，以本地数据为基准");else this.lightSwitchDataCanUpdate?(this.SaveSwitchMode=1==Number(i.SaveSwitchMode),this.SwitchModeOntime=Number(i.SwitchModeOntime)||0,console.log("getLightsCallback~~~返回的数据~~~SwitchModeOntime",this.SwitchModeOntime),6==this.SwitchModeOntime?this.SwitchModeOntimeText=this.presenseSensorDisplayList[0]:this.SwitchModeOntimeText=this.presenseSensorDisplayList[this.SwitchModeOntime+1],this.SwitchLightsIntensity=Number(i.SwitchLightsIntensity)||0,this.SwitchLightsIntensity>0&&(this.lightsSwitchOnoff=!0),this.SwitchLightsColour=Number(i.SwitchLightsColour)||0,this.RemoteControlModeFlag=Number(i.RemoteControlMode),this.$store.commit("change_switchLightInfo",{}),console.log("getLightsCallback light switch 之前修改过，并且返回数据与本地数据相等，清除本地数据，以云端数据为基准")):console.log("getLightsCallback light switch 之前修改过，但是云端数据与本地数据不一致，以本地数据为基准")}else{console.log("getLightsCallback light switch 默认云端拉数据 以及 无任何操作state为空 拉数据"),this.SaveSwitchMode=1==Number(i.SaveSwitchMode),this.SwitchModeOntime=Number(i.SwitchModeOntime)||0,0==this.oneZoneFlag?this.SwitchModeOntimeText=this.presenseSensorDisplayList[this.SwitchModeOntime]:(console.log("getLightsCallback~~~返回的数据~~~SwitchModeOntime",this.SwitchModeOntime),6==this.SwitchModeOntime?this.SwitchModeOntimeText=this.presenseSensorDisplayList[0]:this.SwitchModeOntimeText=this.presenseSensorDisplayList[this.SwitchModeOntime+1]),this.SwitchLightsIntensity=Number(i.SwitchLightsIntensity)||0,this.SwitchLightsIntensity>0&&(this.lightsSwitchOnoff=!0),console.log("SwitchLightsIntensity",this.SwitchLightsIntensity),0==this.oneZoneFlag?this.SwitchLightsColour=23-Number(i.SwitchLightsColour)||0:this.SwitchLightsColour=Number(i.SwitchLightsColour)||0,this.SwitchRGBLightIntensity=Number(i.SwitchRGBLightIntensity)||0,this.SwitchRGBLightIntensity>0&&(this.RGBLightOnoff=!0),this.SwitchRColour=Number(i.SwitchRColour)||0,this.SwitchGColour=Number(i.SwitchGColour)||0,this.SwitchBColour=Number(i.SwitchBColour)||0;var o="rgb("+this.SwitchRColour+","+this.SwitchGColour+","+this.SwitchBColour+")";console.log(o),this.$store.commit("lights/SWITCH_R_COLOUR",this.SwitchRColour),this.$store.commit("lights/SWITCH_G_COLOUR",this.SwitchGColour),this.$store.commit("lights/SWITCH_B_COLOUR",this.SwitchBColour),this.$store.commit("lights/SWITCH_COLOUR",o),this.RemoteControlModeFlag=Number(i.RemoteControlMode)}}}else this.$toast(this.$t("lang.failure"));console.log("getLightsCallback -------------------------end-------------------------")},sendCmdCallback:function(t){if(this.showLoading=!1,console.log("sendCmdCallback返回数据_newLights页面",t),"0"==t.resultCode||0==t.resultCode){for(var i in console.log("switchLightInfo==",this.$store.state.switchLightInfo),this.$store.state.switchLightInfo.SaveSwitchMode=this.SaveSwitchMode,this.$store.state.switchLightInfo.SwitchLightsIntensity=this.SwitchLightsIntensity,this.$store.state.switchLightInfo.SwitchLightsColour=0==this.oneZoneFlag?23-Number(this.SwitchLightsColour):Number(this.SwitchLightsColour),0==this.oneZoneFlag&&(this.$store.state.switchLightInfo.SwitchRGBLightIntensity=this.SwitchRGBLightIntensity,this.$store.state.switchLightInfo.SwitchRColour=this.SwitchRColour,this.$store.state.switchLightInfo.SwitchGColour=this.SwitchGColour,this.$store.state.switchLightInfo.SwitchBColour=this.SwitchBColour),this.$store.state.switchLightInfo.SwitchModeOntime=this.SwitchModeOntime,this.switchLight_Info)this.initDataStateData[i].length<=3&&(void 0==this.initDataStateData[i][1]&&(console.log("getLightsCallback initDataStateData state 存数据 [1] 为空，存入state值"),this.initDataStateData[i].push(this.switchLight_Info[i])),void 0!=this.initDataStateData[i][1]&&this.initDataStateData[i][1]!==this.switchLight_Info[i]&&(console.log("getLightsCallback initDataStateData state 存数据 [1] 为空，存入state值"),this.initDataStateData[i][1]=this.switchLight_Info[i]));console.log("getLightsCallback sendCmdCallback initDataStateData",h()(this.initDataStateData)),console.log("getLightsCallback  sendCmdCallback this.switchLight_Info",h()(this.switchLight_Info)),this.$toast(this.$t("lang.success"))}else this.showLoading=!1,this.$toast(this.$t("lang.failure")),this.getLightsInfo()},onBackPressedCallback:function(){this.goBack()}}},"components",{commonHeader:function(){return new Promise(function(t){t()}).then(e.bind(null,"G/qF"))},commonBottom:function(){return e.e(1).then(e.bind(null,"jxgB"))},loading:function(){return e.e(0).then(e.bind(null,"44dg"))}}),g={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"wine_lights"}},[e("common-header2",{attrs:{bg:t.commonHeaderBg}},[e("div",{staticClass:"common_header_left",attrs:{slot:"left"},on:{click:t.goBack},slot:"left"},[e("i",{staticClass:"icon iconfont"},[t._v("")])]),t._v(" "),e("div",{staticClass:"common_header_center oh-1",attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.$t("lang.light_title")))])]),t._v(" "),e("div",{staticClass:"lights_tab_card"},[e("ul",{staticClass:"tab_card_title clearfix"},t._l(t.items,function(i,s){return e("li",{key:s,staticClass:"oh-1",class:{active:s==t.curId},attrs:{id:"li"+s},on:{click:function(i){return t.tabChange(s)}}},[t._v(t._s(t.$t("lang."+i)))])}),0)]),t._v(" "),e("div",{staticClass:"lights_tab_card_content"},[1==t.curId?e("div",{staticClass:"contentBox"},[e("div",{staticClass:"lights_content"},[e("div",{staticClass:"lights_switch clearfix",staticStyle:{marginBottom:"36px"}},[e("p",{staticClass:"lights_switch_title oh-1"},[t._v(t._s("1"==t.oneZoneFlag?t.$t("lang.shelf_lights"):t.$t("lang.switchs")))]),t._v(" "),e("div",{staticClass:"lights_switch_btn"},[e("van-switch",{attrs:{"active-color":"#000","inactive-color":"#fff",disabled:0==t.RemoteControlModeFlag||1==t.sabbathmode&&2==this.sabbathModeStatus||"2"==t.onlineStatus},on:{change:t.switchMode,click:t.toToast},model:{value:t.SaveSwitchMode,callback:function(i){t.SaveSwitchMode=i},expression:"SaveSwitchMode"}})],1)]),t._v(" "),t.SaveSwitchMode?e("div",["1"!==t.oneZoneFlag?e("div",{staticClass:"lights_switch clearfix"},[e("p",{staticClass:"lights_switch_title oh-1"},[t._v(t._s(t.$t("lang.shelf_lights")))])]):t._e(),t._v(" "),e("div",{staticClass:"lights_item"},[e("div",{staticStyle:{display:"flex"}},[e("p",{staticClass:"lights_title"},[t._v(t._s(t.$t("lang.brightness")))]),t._v(" "),e("p",{staticClass:"lights_bright_percent",style:{color:t.conShow?"#000":"#c4c4c4"}},[t._v(t._s(t.SwitchLightsIntensity)+"%")])]),t._v(" "),t.conShow?e("div",{staticClass:"lights_slider_wrap",style:t.brightActive?t.sliderBgSelect:t.sliderBg},[e("van-slider",{attrs:{"bar-height":t.barHeight,"inactive-color":"none","active-color":"none",step:t.step,min:t.minVal,max:t.maxVal},on:{"drag-start":function(i){t.dragFlag=!0},"drag-end":t.toSaveSwitchLightsIntensityDrag,change:t.toSaveSwitchLightsIntensity},model:{value:t.SwitchLightsIntensity,callback:function(i){t.SwitchLightsIntensity=i},expression:"SwitchLightsIntensity"}},[e("div",{staticClass:"lights_button",style:{background:t.brightActive?"#fff":"#000"},attrs:{slot:"button"},slot:"button"})])],1):t._e(),t._v(" "),t.conShow?t._e():e("div",{staticClass:"lights_disable_block"}),t._v(" "),e("p",{staticClass:"lights_bright_percent_show",staticStyle:{color:"#000"}},[e("span",[t._v(t._s(t.$t("lang.off")))]),t._v(" "),e("span",[t._v("100%")])])]),t._v(" "),e("div",{staticClass:"lights_item"},[e("p",{staticClass:"lights_title"},[t._v(t._s(t.$t("lang.light_temperature")))]),t._v(" "),e("div",{staticClass:"lights_slider_wrap",style:t.sliderBgs},[e("van-slider",{attrs:{"bar-height":t.barHeight,"inactive-color":"none","active-color":"none",step:t.step,min:t.minLight,max:t.maxLight},on:{"drag-start":function(i){t.dragFlag=!0},"drag-end":t.toSaveSwitchLightsColourDrag,change:t.toSaveSwitchLightsColour},model:{value:t.SwitchLightsColour,callback:function(i){t.SwitchLightsColour=i},expression:"SwitchLightsColour"}},[e("div",{staticClass:"lights_button",style:{background:t.lTActive?"#fff":"#000"},attrs:{slot:"button"},slot:"button"})])],1),t._v(" "),e("p",{staticClass:"lights_bright_percent_show",staticStyle:{color:"#000"}},[e("span",[t._v(t._s(t.$t("lang.warm")))]),t._v(" "),e("span",[t._v(t._s(t.$t("lang.cold")))])])]),t._v(" "),e("br"),t._v(" "),[0==t.oneZoneFlag?e("div",{staticClass:"line"}):t._e(),t._v(" "),0==t.oneZoneFlag?e("div",{staticClass:"lights_content"},[e("div",{staticClass:"lights_switch clearfix"},[e("p",{staticClass:"lights_switch_title oh-1"},[t._v(t._s(t.$t("lang.rgb_light")))])]),t._v(" "),e("div",{staticClass:"lights_item"},[e("div",{staticStyle:{display:"flex"}},[e("p",{staticClass:"lights_title"},[t._v(t._s(t.$t("lang.brightness")))]),t._v(" "),e("p",{staticClass:"lights_bright_percent"},[t._v(t._s(t.SwitchRGBLightIntensity)+"%")])]),t._v(" "),e("div",{staticClass:"lights_slider_wrap",style:t.brightActive?t.sliderBgSelect:t.sliderBg},[e("van-slider",{attrs:{"bar-height":t.barHeight,"inactive-color":"none","active-color":"none",step:t.step,min:t.minVal,max:t.maxVal},on:{"drag-start":function(i){t.dragFlag=!0},"drag-end":t.toSaveSwitchRGBLightIntensityDrag,change:t.toSaveSwitchRGBLightIntensity},model:{value:t.SwitchRGBLightIntensity,callback:function(i){t.SwitchRGBLightIntensity=i},expression:"SwitchRGBLightIntensity"}},[e("div",{staticClass:"lights_button",style:{background:t.brightActive?"#fff":"#000"},attrs:{slot:"button"},slot:"button"})])],1),t._v(" "),e("p",{staticClass:"lights_bright_percent_show",staticStyle:{color:"#000"}},[e("span",[t._v(t._s(t.$t("lang.off")))]),t._v(" "),e("span",[t._v("100%")])])])]):t._e(),t._v(" "),0==t.oneZoneFlag?e("div",{staticClass:"lights_item"},[e("p",{staticClass:"lights_title"},[t._v(t._s(t.$t("lang.rgb_lights_colour")))]),t._v(" "),e("div",{staticClass:"ambient_color",style:{background:t._SwitchColour},on:{click:t.selectColor}})]):t._e(),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"lights_item onTime",on:{click:t.togglePop}},[e("p",{staticClass:"lights_title"},[t._v(t._s(t.$t("lang.use_this_mode_for")))]),t._v(" "),e("span",[t._v(t._s(t.SwitchModeOntimeText))])])],t._v(" "),e("van-popup",{style:{height:100},attrs:{position:"bottom"},model:{value:t.onforPop,callback:function(i){t.onforPop=i},expression:"onforPop"}},[e("van-picker",{attrs:{columns:t.presenseSensorDisplayList,"confirm-button-text":t.$t("lang.confirm"),"cancel-button-text":t.$t("lang.cancel"),"show-toolbar":""},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],2):t._e()])]):t._e(),t._v(" "),0==t.curId?e("div",{staticClass:"contentBox"},[e("div",{staticClass:"light_mode_box"},[e("ul",[e("h3",[t._v(t._s(t.$t("lang.light_mode_settings")))]),t._v(" "),e("li",{on:{click:function(i){return t.goFunctionalMode()}}},[e("i",{staticClass:"iconfont icon light_icon"},[t._v("")]),t._v(" "),e("span",[t._v(t._s(t.$t("lang.function_mode")))])]),t._v(" "),e("li",{on:{click:function(i){return t.goAmbientMode()}}},[e("i",{staticClass:"iconfont icon light_icon"},[t._v("")]),t._v(" "),e("span",[t._v(t._s(t.$t("lang.ambient_mode")))])])]),t._v(" "),e("ul",[e("h3",[t._v(t._s(t.$t("lang.light_mode_usage")))]),t._v(" "),e("li",{on:{click:function(i){return t.goModesUsage()}}},[e("i",{staticClass:"iconfont icon light_icon"},[t._v("")]),t._v(" "),e("span",[t._v(t._s(t.$t("lang.modes_usage")))])])])])]):t._e()]),t._v(" "),e("loading",{attrs:{"show-loading":t.showLoading}})],1)},staticRenderFns:[]};var d=e("VU/8")(r,g,!1,function(t){e("YsL2")},null,null);i.default=d.exports},YsL2:function(t,i){}});
//# sourceMappingURL=7.4bcd725ca993522ca394.js.map